<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script src="jquery-3.6.0.min.js"></script>
<script src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" data-auto-replace-svg="nest"></script>
<script src="lightslider.js"></script>
<title>WikiClassic</title>
<link rel="stylesheet" href="Style.css"/>
<link rel="shortcut icon" href="img/Musique%20Classique.jpg"/>
<link rel="stylesheet" href="lightslider.css">



</head>
<body>
  <nav>
    <a href="#" class="logo">
      <img src="img/Musique%20Classique.jpg">
    </a>
    <ul class="Menu">
      <li><i class="fas fa-music"></i></li>
      <li><a href="#">Menu Principal</a></li>
      <li><a href="#">Classique</a></li>
      <li><a href="#">Baroque</a></li>
      <li><a href="#">Romantisme</a></li>
      <li><a href="#">Moderne</a></li>
      <li><a href="#">Contemporain</a></li>
    </ul>
  
    <div class ="rechercher">
      <input type="text" placeholder="Chercher un artiste"/>
      <i class="fas fa-search"></i>
    </div>
  </nav>

  <section id="main">
    <h1 class="Rubrique-a-la-une"> Ã€ la une </h1>
    <ul id="autoWidth" class="cs-hidden">

      <li class="item-a">
        <a href="#">
          <div class="Boite-a-la-une">
          <div class="Boite-a-la-une-img">
              <img src="img/Ballade%20No.%201%20in%20G%20minor,%20Op.%2023.png" height="300"/>
          </div>
          <div class="Boite-a-la-une-text">
            <strong class="Ballade"></strong>
            <p class="Chopin"></p>
          </div>
          </div>
        </a>
      </li>

      <li class="item-b">
        <a href="#" class="Cello-Suite-Bach">
        <div class="Boite-a-la-une">
        <div class="Boite-a-la-une-img">
          <img src="img/Cello%20Suite%20Bach.JPG" height="300">
        </div>
          <div class="Boite-a-la-une-text">
            <strong class="Ballade"></strong>
            <p class="Chopin"></p>
          </div>
        </div>
        </a>
      </li>

      <li class="item-c">
        <div class="Boite-a-la-une">
          <a href="#" class="Experience">
            <img src="img/Experience.PNG" height="300"/>
          </a>
        </div>
      </li>

      <li class="item-d">
        <div class="Boite-a-la-une">
          <a href="#" class="Train">
            <img src="img/The%20Sixth%20Station.PNG" height="300"/>
          </a>
        </div>
      </li>

      <li class="item-e">
        <div class="Boite-a-la-une">
          <a href="#" class="Canon-in-d">
            <img src="img/Canon%20in%20d.PNG" height="300"/>
          </a>
        </div>
      </li>

      <li class="item-0"></li>
      <li class="item-1"></li>
      <li class="item-2"></li>
    </ul> 
  </section>

  <script>
    $(document).ready(function() {
      var i=-1
      var k=i
      for (k=0;k<3;k++){
        $.ajax({
          type: "GET",
          url: "http://localhost:8080/classic/morceau/liste",
          contentType: "application/json",
          dataType: "json",
          success: function (data) {
            if(this.success){
              console.log("oui")
            i=i+1
              console.log(i)}
              var nomMorceauAvecEspace = data[i];
              var nomMorceau = nomMorceauAvecEspace.replace(/ /g, "%20");
              console.log(nomMorceau)
              var nomCompositeur

              $.get("http://localhost:8080/classic/morceau/compositeur/" + nomMorceau, function (data, success) {
                if (success){
                  console.log("^^")
                }
                  nomCompositeur = data
                  console.log(nomCompositeur);
                  $("." + k).append(nomCompositeur)
                  console.log(k);
                  k=k+1
              });
              $(".item-" + i).append(
                      "<a href=#>" +
                      "<div class =Boite-a-la-une>" +
                      "<div class=Boite-a-la-une-img>" +
                      "<img src=img/" + nomMorceau + ".png height = 300/>" +
                      "</div>" +
                      "<div class=Boite-a-la-une-text>" +
                      "<strong>" + nomMorceauAvecEspace + "</strong>" +
                      "<p class="+i+"></p>" +
                      "</div>" +
                      "</div>" +
                      "</a>");
          }
        })}
      k=0

      $('#autoWidth').lightSlider({
        autoWidth:true,
        loop:true,
        onSliderLoad: function() {
            $('#autoWidth').removeClass('cS-hidden');
        }
    })

    $.get("http://localhost:8080/classic/morceau/nom/Ballade%20No.%201%20in%20G%20minor,%20Op.%2023", function (data, status) {
      $(".Ballade").html(data);
    })

    })

  </script>
  

  
  

</body>
</html>
